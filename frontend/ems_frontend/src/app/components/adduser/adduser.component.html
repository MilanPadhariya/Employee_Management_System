<div class="main-container">
  <div class="container py-3 h-100 w-100">
    <div class="row h-100 w-100">
      <div class="col-12 col-lg-12 col-xl-12">
        <div class="card shadow-2-strong card-registration" style="border-radius: 15px;">
          <div class="card-body p-4 p-md-5">
            <h2 class=" pb-2 pb-md-0">User Form</h2>
            <form [formGroup]="addUserForm" (ngSubmit)="submitHandler()">
              <div class="row">
                <div class="col-md-6 mb-4">
                  <div class="form-outline">
                    <label class="form-label" for="firstName">Name</label>
                    <input type="text" id="name" formControlName="name" class="form-control"/>
                    <div *ngIf="name.invalid && (name.touched || name.dirty)" style="color: red;">
                      <div *ngIf="name.errors?.['required']" > Name is required!</div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 mb-4">
                  <div class="form-outline">
                    <label class="form-label select-label">Select Role</label>
                    <select class="form-select" aria-label="Default select example" formControlName="role">
                      <option value="employee">Employee</option>
                      <option value="team_lead">Team Lead</option>
                      <option value="hr">Hr</option>
                      <option value="director">Director</option>
                    </select>
                    <div *ngIf="role.invalid && (role.dirty || role.touched)" style="color: red;" >
                      <div *ngIf="role.errors?.['required']">
                        role is required
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6 mb-4">
                  <div class="input-group" style="display: flex; flex-direction: column;">
                    <label class="form-label select-label">Birthdate</label>
                      <div style="display: flex;">
                        <input
                        formControlName="dob"
                        class="form-control"
                        placeholder="yyyy-mm-dd"
                        id="dob"
                        name="dp1"
                        [(ngModel)]="startingDateModel"
                        ngbDatepicker
                        #d="ngbDatepicker"
                        />
                        <button class="btn btn-outline-secondary bi bi-calendar3" (click)="d.toggle()" type="button">select</button>
                      </div>
                    <div *ngIf="dob.invalid && (dob.dirty || dob.touched)" style="color: red;" >
                      <div *ngIf="dob.errors?.['required']">
                        date of birth is required
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 mb-4 pt-1">

                  <h3 class="mb-2 pb-1">Gender: </h3>
                  
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="gender" id="femaleGender"
                    value="female" formControlName="gender"/>
                    <label class="form-check-label" for="femaleGender">Female</label>
                  </div>
                  
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="gender" id="maleGender"
                    value="male" formControlName="gender"/>
                    <label class="form-check-label" for="maleGender">Male</label>
                  </div>
                  
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="gender" id="otherGender"
                    value="others" formControlName="gender" />
                    <label class="form-check-label" for="otherGender">Other</label>
                  </div>

                  <div *ngIf="gender.invalid && (gender.dirty || gender.touched)" style="color: red;" >
                    <div *ngIf="gender.errors?.['required']">
                      gender is required
                    </div>
                  </div>
                  
                </div>
              </div>

              <div class="row">
                <div class="col-md-6 mb-4 pb-2">
                  <div class="form-outline">
                    <label class="form-label" for="emailAddress">Email</label>
                    <input type="email" id="emailAddress" class="form-control" formControlName="email" />
                    <div *ngIf="email.invalid && (email.touched || email.dirty)" style="color: red;">
                      <div *ngIf="email.errors?.['required']" > email is required!</div>
                      <div *ngIf="email.errors?.['email']" > not a valid email</div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 mb-4 pb-2">

                  <div class="form-outline">
                    <label class="form-label" for="phoneNumber" >Phone Number</label>
                    <input type="tel" id="phoneNumber" class="form-control" formControlName="phonenumber" />
                    <div *ngIf="phonenumber.invalid && (phonenumber.touched || phonenumber.dirty)" style="color: red;">
                      <div *ngIf="phonenumber.errors?.['required']" > phoneNumber is required!</div>
                      <div *ngIf="phonenumber.errors?.['maxlength']" > maximum of 10 digit</div>
                      <div *ngIf="phonenumber.errors?.['pattern']" > only digits are allowed </div>
                    </div>
                  </div>

                </div>
              </div>

              <div class="row">
                <div class="col-md-6 mb-4 pb-2">

                  <div class="form-outline">
                    <label class="form-label" for="inputPassword6">Password</label>
                    <input type="password" id="inputPassword6" class="form-control" formControlName="password" aria-describedby="passwordHelpInline">
                    <div *ngIf="password.invalid && (password.touched || password.dirty)" style="color: red;">
                      <div *ngIf="password.errors?.['required']" > password is required!</div>
                      <div *ngIf="password.errors?.['minlength']" > minimum 8 characters required</div>
                    </div>
                  </div>

                </div>
                <div class="col-md-6 mb-4">
                  <div class="form-outline">
                    <label class="form-label select-label">Select Team</label>
                    <select class="form-select" aria-label="Default select example" formControlName="team" placeholder="team....">
                      <option *ngFor="let team of teams" value={{team.team_id}}>{{team.name}}</option>
                    </select>
                    <div *ngIf="team.invalid && (team.dirty || team.touched)" style="color: red;" >
                      <div *ngIf="team.errors?.['required']">
                         please select team
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="mt-4 pt-2">
                <button class="btn btn-primary btn-lg" type="submit" value="Submit">Add</button>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
